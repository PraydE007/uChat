#include "client.h"

static t_interface init_elements() {
    t_interface auth_interface;
    auth_interface.window = gtk_window_new(GTK_WINDOW_TOPLEVEL);
    auth_interface.box = gtk_box_new (true, 10);
    auth_interface.button_login = gtk_button_new_with_label ("Logging in");
    auth_interface.button_register = gtk_button_new_with_label ("Register");
    auth_interface.entry_login = gtk_entry_new();
    auth_interface.entry_passwd = gtk_entry_new();
    return auth_interface;
}

void mx_init_auth_screen() {
    t_interface auth_interface = init_elements();
    gtk_window_set_default_size(GTK_WINDOW(auth_interface.window), 1000, 800);
    gtk_window_set_resizable (GTK_WINDOW(auth_interface.window), false);
    gtk_window_set_position (GTK_WINDOW (auth_interface.window), GTK_WIN_POS_CENTER);
    gtk_window_set_title(GTK_WINDOW(auth_interface.window), "Uchat");

    gtk_box_pack_start(GTK_BOX(auth_interface.box), auth_interface.entry_login, false, false, 0);
    gtk_box_pack_start(GTK_BOX(auth_interface.box), auth_interface.entry_passwd, false, false, 0);
    gtk_box_pack_start(GTK_BOX(auth_interface.box), auth_interface.button_login, false, false, 0);
    gtk_box_pack_start(GTK_BOX(auth_interface.box), auth_interface.button_register, false, false, 0);
    gtk_container_add(GTK_CONTAINER(auth_interface.window), auth_interface.box);
    gtk_widget_show_all(auth_interface.window);

    // GtkBuilder* builder = gtk_builder_new_from_file("auth_interface.glade");
    // GtkWidget* b1 = GTK_WIDGET(gtk_builder_get_object(builder, "aw_1"));

    // gtk_widget_show_all(b1);
}
